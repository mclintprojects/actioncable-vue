!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ActionCableVue=t():e.ActionCableVue=t()}("undefined"!=typeof self?self:this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>W});var n={logger:"undefined"!=typeof console?console:void 0,WebSocket:"undefined"!=typeof WebSocket?WebSocket:void 0},o={log(...e){this.enabled&&(e.push(Date.now()),n.logger.log("[ActionCable]",...e))}};const i=()=>(new Date).getTime(),r=e=>(i()-e)/1e3;class s{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=i(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),o.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=i(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),o.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordMessage(){this.pingedAt=i()}recordConnect(){this.reconnectAttempts=0,delete this.disconnectedAt,o.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=i(),o.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout((()=>{this.reconnectIfStale(),this.poll()}),this.getPollInterval())}getPollInterval(){const{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor;return 1e3*e*Math.pow(1+t,Math.min(this.reconnectAttempts,10))*(1+(0===this.reconnectAttempts?1:t)*Math.random())}reconnectIfStale(){this.connectionIsStale()&&(o.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${r(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?o.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${r(this.disconnectedAt)} s`):(o.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return r(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&r(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){"visible"===document.visibilityState&&setTimeout((()=>{!this.connectionIsStale()&&this.connection.isOpen()||(o.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())}),200)}}s.staleThreshold=6,s.reconnectionBackoffRate=.15;var c={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart",remote:"remote"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]};const{message_types:l,protocols:u}=c,a=u.slice(0,u.length-1),h=[].indexOf;class f{constructor(e){this.open=this.open.bind(this),this.consumer=e,this.subscriptions=this.consumer.subscriptions,this.monitor=new s(this),this.disconnected=!0}send(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)}open(){if(this.isActive())return o.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1;{const e=[...u,...this.consumer.subprotocols||[]];return o.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${e}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new n.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0}}close({allowReconnect:e}={allowReconnect:!0}){if(e||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(o.log(`Reopening WebSocket, current state is ${this.getState()}`),!this.isActive())return this.open();try{return this.close()}catch(e){o.log("Failed to reopen WebSocket",e)}finally{o.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}triedToReconnect(){return this.monitor.reconnectAttempts>0}isProtocolSupported(){return h.call(a,this.getProtocol())>=0}isState(...e){return h.call(e,this.getState())>=0}getState(){if(this.webSocket)for(let e in n.WebSocket)if(n.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase();return null}installEventHandlers(){for(let e in this.events){const t=this.events[e].bind(this);this.webSocket[`on${e}`]=t}}uninstallEventHandlers(){for(let e in this.events)this.webSocket[`on${e}`]=function(){}}}f.reopenDelay=500,f.prototype.events={message(e){if(!this.isProtocolSupported())return;const{identifier:t,message:n,reason:i,reconnect:r,type:s}=JSON.parse(e.data);switch(this.monitor.recordMessage(),s){case l.welcome:return this.triedToReconnect()&&(this.reconnectAttempted=!0),this.monitor.recordConnect(),this.subscriptions.reload();case l.disconnect:return o.log(`Disconnecting. Reason: ${i}`),this.close({allowReconnect:r});case l.ping:return null;case l.confirmation:return this.subscriptions.confirmSubscription(t),this.reconnectAttempted?(this.reconnectAttempted=!1,this.subscriptions.notify(t,"connected",{reconnected:!0})):this.subscriptions.notify(t,"connected",{reconnected:!1});case l.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",n)}},open(){if(o.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return o.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(e){if(o.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){o.log("WebSocket onerror event")}};class d{constructor(e,t={},n){this.consumer=e,this.identifier=JSON.stringify(t),function(e,t){if(null!=t)for(let n in t){const o=t[n];e[n]=o}}(this,n)}perform(e,t={}){return t.action=e,this.send(t)}send(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}class b{constructor(e){this.subscriptions=e,this.pendingSubscriptions=[]}guarantee(e){-1==this.pendingSubscriptions.indexOf(e)?(o.log(`SubscriptionGuarantor guaranteeing ${e.identifier}`),this.pendingSubscriptions.push(e)):o.log(`SubscriptionGuarantor already guaranteeing ${e.identifier}`),this.startGuaranteeing()}forget(e){o.log(`SubscriptionGuarantor forgetting ${e.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter((t=>t!==e))}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout((()=>{this.subscriptions&&"function"==typeof this.subscriptions.subscribe&&this.pendingSubscriptions.map((e=>{o.log(`SubscriptionGuarantor resubscribing ${e.identifier}`),this.subscriptions.subscribe(e)}))}),500)}}class p{constructor(e){this.consumer=e,this.guarantor=new b(this),this.subscriptions=[]}create(e,t){const n="object"==typeof e?e:{channel:e},o=new d(this.consumer,n,t);return this.add(o)}add(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.subscribe(e),e}remove(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e}reject(e){return this.findAll(e).map((e=>(this.forget(e),this.notify(e,"rejected"),e)))}forget(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter((t=>t!==e)),e}findAll(e){return this.subscriptions.filter((t=>t.identifier===e))}reload(){return this.subscriptions.map((e=>this.subscribe(e)))}notifyAll(e,...t){return this.subscriptions.map((n=>this.notify(n,e,...t)))}notify(e,t,...n){let o;return o="string"==typeof e?this.findAll(e):[e],o.map((e=>"function"==typeof e[t]?e[t](...n):void 0))}subscribe(e){this.sendCommand(e,"subscribe")&&this.guarantor.guarantee(e)}confirmSubscription(e){o.log(`Subscription confirmed ${e}`),this.findAll(e).map((e=>this.guarantor.forget(e)))}sendCommand(e,t){const{identifier:n}=e;return this.consumer.send({command:t,identifier:n})}}class g{constructor(e){this._url=e,this.subscriptions=new p(this),this.connection=new f(this),this.subprotocols=[]}get url(){return function(e){if("function"==typeof e&&(e=e()),e&&!/^wss?:/i.test(e)){const t=document.createElement("a");return t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}return e}(this._url)}send(e){return this.connection.send(e)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}addSubProtocol(e){this.subprotocols=[...this.subprotocols,e]}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_(o.key),o)}}function v(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var S=function(){return e=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"_debug",void 0),v(this,"_debugLevel",void 0),this._debug=t,this._debugLevel=n},t=[{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";!this._debug||"all"!==this._debugLevel&&t!==this._debugLevel||console.log("[".concat(t.toUpperCase(),"] ").concat(e))}}],t&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function j(e){return e.$?e.$.type.channels:e.channels||e.$options.channels}function A(e){return e.$options.channels||e.channels||e.$&&e.$.type.channels}function C(e){if(A(e)&&e.$cable&&e.$cable._unsubscribeOnUnmount){var t=j(e);Object.entries(t).forEach((function(t){var n,o,i=(o=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,s,c=[],l=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return c}}(n,o)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],s=i[1];"computed"===r?s.forEach((function(t){var n=t.channelName.call(e);e.$cable._removeChannel(n,e._uid)})):e.$cable._removeChannel(r,e._uid)}))}}function k(e){if(A(e)){Object.keys||(Object.keys=(n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable.call(!1,"toString"),r=(i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("function"!=typeof e&&("object"!==w(e)||null===e))throw new TypeError("Object.keys called on non-object");var t,s,c=[];for(t in e)n.call(e,t)&&c.push(t);if(o)for(s=0;s<r;s++)n.call(e,i[s])&&c.push(i[s]);return c})),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,o=new Array(n);n--;)o[n]=[t[n],e[t[n]]];return o});var t=j(e);Object.entries(t).forEach((function(t){e.$cable._registerChannel(t,e)}))}var n,o,i,r}const P={beforeCreate:function(){k(this)},beforeUnmount:function(){C(this)},beforeDestroy:function(){C(this)},methods:{$resubscribeToCableChannels:function(){k(this)}}};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,s,c=[],l=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,I(o.key),o)}}function D(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}var M=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,"_logger",null),D(this,"_cable",null),D(this,"_channels",{subscriptions:{}}),D(this,"_contexts",{}),D(this,"_connectionUrl",null),D(this,"_unsubscribeOnUnmount",!0),D(this,"_isReset",!1),3===Number(t.version.split(".")[0])?t.config.globalProperties.$cable=this:t.prototype.$cable=this,t.mixin(P);var o=R(R({},{debug:!1,debugLevel:"error",connectionUrl:null,connectImmediately:!0,unsubscribeOnUnmount:!0,store:null}),n),i=o.debug,r=o.debugLevel,s=o.connectionUrl,c=o.connectImmediately,l=o.store,u=o.unsubscribeOnUnmount;return this._connectionUrl=s,this._unsubscribeOnUnmount=u,this._logger=new S(i,r),!1!==c&&(c=!0),l&&(l.$cable=this),c&&this._connect(this._connectionUrl),this._attachConnectionObject(),this},t=[{key:"subscribe",value:function(e,t){var n=this;if(this._cable){var o=t||e.channel;this._channels.subscriptions[o]=this._cable.subscriptions.create(e,{connected:function(){n._fireChannelEvent(o,n._channelConnected)},disconnected:function(){n._fireChannelEvent(o,n._channelDisconnected)},rejected:function(){n._fireChannelEvent(o,n._subscriptionRejected)},received:function(e){n._fireChannelEvent(o,n._channelReceived,e)}})}else this._connect(this._connectionUrl),this.subscribe(e,t)}},{key:"perform",value:function(e){var t=e.channel,n=e.action,o=e.data;this._logger.log("Performing action '".concat(n,"' on channel '").concat(t,"'."),"info");var i=this._channels.subscriptions[t];if(!i)throw new Error("You need to be subscribed to perform action '".concat(n,"' on channel '").concat(t,"'."));i.perform(n,o),this._logger.log("Performed '".concat(n,"' on channel '").concat(t,"'."),"info")}},{key:"unsubscribe",value:function(e){this._unsubscribeOnUnmount&&this._channels.subscriptions[e]&&(this._channels.subscriptions[e].unsubscribe(),this._logger.log("Unsubscribed from channel '".concat(e,"'."),"info"))}},{key:"registerChannels",value:function(e,t){var n=this;Object.entries(e).forEach((function(e){n._registerChannel(e,t)}))}},{key:"unregisterChannels",value:function(e,t){var n=this;Object.entries(e).forEach((function(e){var o=E(e,2),i=o[0],r=o[1];"computed"===i?r.forEach((function(e){var o=e.channelName.call(t);n._removeChannel(o,t._uid)})):n._removeChannel(i,t._uid)}))}},{key:"_channelConnected",value:function(e){e.connected&&e.connected.call(this._contexts[e._uid].context),this._logger.log("Successfully connected to channel '".concat(e._name,"'."),"info")}},{key:"_channelDisconnected",value:function(e){e.disconnected&&e.disconnected.call(this._contexts[e._uid].context),this._logger.log("Successfully disconnected from channel '".concat(e._name,"'."),"info")}},{key:"_subscriptionRejected",value:function(e){e.rejected&&e.rejected.call(this._contexts[e._uid].context),this._logger.log("Subscription rejected for channel '".concat(e._name,"'."))}},{key:"_channelReceived",value:function(e,t){e.received&&e.received.call(this._contexts[e._uid].context,t),this._logger.log("Message received on channel '".concat(e._name,"'."),"info")}},{key:"_connect",value:function(e){this._cable=function(e=function(){const e=document.head.querySelector("meta[name='action-cable-url']");if(e)return e.getAttribute("content")}()||c.default_mount_path){return new g(e)}("function"==typeof e?e():e)}},{key:"_attachConnectionObject",value:function(){var e=this;this.connection={connect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(e._connectionUrl=t),e._cable?e._cable.connect():e._connect(t||e._connectionUrl),e._isReset&&e._resubscribe()},disconnect:function(){e._cable&&(e._cable.disconnect(),e._isReset=!0,e._reset())}}}},{key:"_registerChannel",value:function(e,t){var n=this,o=E(e,2),i=o[0],r=o[1];"computed"!==i?this._addChannel(i,r,t):r.forEach((function(e){var o=e.channelName.call(t),i={connected:e.connected,rejected:e.rejected,disconnected:e.disconnected,received:e.received};n._addChannel(o,i,t)}))}},{key:"_addChannel",value:function(e,t,n){var o=n._uid||n.$.uid;t._uid=o,t._name=e,this._channels[e]||(this._channels[e]=[]),this._addContext(n),!this._channels[e].find((function(e){return e._uid===o}))&&this._contexts[o]&&this._channels[e].push(t)}},{key:"_addContext",value:function(e){var t=e._uid||e.$.uid;void 0!==t&&(this._contexts[t]={context:e})}},{key:"_removeChannel",value:function(e,t){this._channels[e]&&(this._channels[e].splice(this._channels[e].findIndex((function(e){return e._uid===t})),1),delete this._contexts[t],0===this._channels[e].length&&this._channels.subscriptions[e]&&(this._channels.subscriptions[e].unsubscribe(),delete this._channels.subscriptions[e]),this._logger.log("Unsubscribed from channel '".concat(e,"'."),"info"))}},{key:"_fireChannelEvent",value:function(e,t,n){if(Object.prototype.hasOwnProperty.call(this._channels,e))for(var o=this._channels[e],i=0;i<o.length;i++)t.call(this,o[i],n)}},{key:"_reset",value:function(){this._cable=null,this._channels={subscriptions:{}}}},{key:"_resubscribe",value:function(){var e=this;Object.keys(this._contexts).forEach((function(t){var n,o,i=null===(n=e._contexts[t])||void 0===n?void 0:n.context;null==i||null===(o=i.$resubscribeToCableChannels)||void 0===o||o.call(i)}))}}],t&&U(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const W={install:function(e,t){var n=t.connectionUrl,o=void 0===n?null:n,i=t.debug,r=void 0!==i&&i,s=t.debugLevel,c=void 0===s?"all":s,l=t.connectImmediately,u=void 0===l||l,a=t.store;return new M(e,{connectionUrl:o,debug:r,debugLevel:c,connectImmediately:u,store:void 0===a?null:a})}};return t.default})()));